const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TaskList-CiuaAV7l.js","assets/vendor-vue-BkEISqGT.js","assets/drawing-store-DaNXGEXc.js","assets/apiHelpers-DHex_rN5.js","assets/vendor-utils-BdUT8LFy.js","assets/confirmDialog-DkHk5X9y.js","assets/pendingIcon-B0IGL8Wa.js","assets/timeAgo-Dsk13s62.js","assets/confirmDialog-CqA_cLVO.css","assets/TaskList-Dv_1ua59.css","assets/TaskDetails-DzDwzCzE.js","assets/empty-BXACGT1W.js","assets/formatData-Cm_F2oGr.js","assets/TaskSettings-DHEPO9oM.js","assets/settingsIcon-_IFOgNyX.js","assets/TaskSettings-ChS0I4v1.css","assets/DrawerCanvas-Cgr8HfTk.js","assets/vendor-fabric-CV99j_cf.js","assets/projectsList-Dm4wvmYL.js","assets/projectsList-jnXQTZDO.css","assets/ProjectDetails-DZ8IG_AH.js","assets/ProjectSettings-DPaHUauw.js","assets/ProjectSettings-DEEzXsSE.css","assets/Fab-DT_0n4OO.js","assets/useModalStack-Dh50zh9q.js","assets/taskModal-fHjVMUEl.js","assets/select-D12jQZLY.js","assets/select-Z6m_9uwb.css","assets/projectModal-DYjyH7Ix.js"])))=>i.map(i=>d[i]);
import{r as e,d as t,w as s,a,c as i,o as r,b as o,e as l,f as n,g as c,u as d,h as u,i as p,F as h,j as g,k as f,n as m,t as k,T as j,l as v,m as y,p as w}from"./vendor-vue-BkEISqGT.js";import{g as _,p as P,a as b,d as T}from"./apiHelpers-DHex_rN5.js";import"./vendor-utils-BdUT8LFy.js";const C=({page:e=1,perPage:t=20,status:s=null,project_id:a=null,has_project:i=null,due:r=null,from:o=null,to:l=null,search:n=null}={})=>_("/api/projects",{page:e,perPage:t,status:s,project_id:a,has_project:i,due:r,from:o,to:l,search:n}),I=e({message:"",type:"",visible:!1,count:1});let S=null,F=null;const E={flash:I,show:function(e,t,s=3e3,a=!1){const i=I.type===e&&I.message===t;clearTimeout(S),clearTimeout(F),!i||a?(I.message=t,I.type=e,I.count=1,I.visible=!0):(I.count++,I.visible=!0),S=setTimeout(()=>{I.visible=!1,F=setTimeout(()=>{I.count=1},500)},s)}};function x(){return E}function A(e,t,s){if(!t||!s)return;e.selectedProject?.id===t&&(e.selectedProject={...e.selectedProject,...s});const a=e.projects.findIndex(e=>e.id===t);-1!==a&&(e.projects[a]={...e.projects[a],...s},e.projects=[...e.projects]),e.projectCache[t]&&(e.projectCache[t]={...e.projectCache[t],...s}),M(e.projects,"pagination",e),e.projects?.length&&M(e.projects,"all",e)}function M(e,t,s){const a={done:0,pending:0,in_progress:0};e.forEach(e=>{void 0!==a[e.status]&&a[e.status]++}),"pagination"===t?s.pagination.statusCounts=a:s.allStatusCounts=a}function L(e){const t=[],s=e.name?.trim()||"";if(s?s.length<3?t.push("Name must be at least 3 characters."):s.length>255&&t.push("Name cannot exceed 255 characters."):t.push("Name is required."),e.description&&"string"!=typeof e.description&&t.push("Description must be a string."),e.start_date){const s=new Date(e.start_date);isNaN(s.getTime())&&t.push("Start date must be a valid date.")}if(e.end_date){const s=new Date(e.end_date);isNaN(s.getTime())&&t.push("End date must be a valid date.")}return e.status?["pending","in_progress","done"].includes(e.status)||t.push("Status must be one of: pending, in_progress, done."):t.push("Status is required."),e.creator_id&&isNaN(Number(e.creator_id))&&t.push("Creator ID must be a valid number."),e.position&&isNaN(Number(e.position))&&t.push("Position must be a valid number."),t}function D(e,t,s){if(!t||!s)return;e.selectedTask?.id===t&&(e.selectedTask={...e.selectedTask,...s});const a=e.tasks.findIndex(e=>e.id===t);-1!==a&&(e.tasks[a]={...e.tasks[a],...s},e.tasks=[...e.tasks]),e.taskCache[t]&&(e.taskCache[t]={...e.taskCache[t],...s}),e.allTasks?.length&&(e.allTasks=e.allTasks.map(e=>e.id===t?{...e,...s}:e)),N(e.tasks,"pagination",e),e.allTasks?.length&&N(e.allTasks,"all",e)}function N(e,t,s){const a={done:0,pending:0,in_progress:0};e.forEach(e=>{void 0!==a[e.status]&&a[e.status]++}),"pagination"===t?s.pagination.statusCounts=a:s.allStatusCounts=a}function B(e){const t=[],s=e.title?.trim()||"";if(s?s.length<3?t.push("Title must be at least 3 characters."):s.length>255&&t.push("Title cannot exceed 255 characters."):t.push("Title is required."),e.description&&"string"!=typeof e.description&&t.push("Description must be a string."),e.due_date){const s=new Date(e.due_date);isNaN(s.getTime())&&t.push("Due date must be a valid date.")}e.priority?["low","medium","high"].includes(e.priority)||t.push("Priority must be one of: low, medium, high."):t.push("Priority is required.");return e.status?["pending","in_progress","done"].includes(e.status)||t.push("Status must be one of: pending, in_progress, done."):t.push("Status is required."),e.project_id&&isNaN(Number(e.project_id))&&t.push("Project ID must be a valid number."),t}const{show:O}=x(),R=t("task",{state:()=>({taskFields:["id","title","status","created_at"],taskCache:{},cacheTTL:3e5,cacheCleanupInterval:null,selectedTaskId:null,selectedTask:null,deletingTaskIds:new Set,selectedTaskForModal:null,loadingSelectedTask:!1,tasks:[],pagination:{page:1,perPage:20,lastPage:1,total:0,statusCounts:{done:0,pending:0,in_progress:0}},allStatusCounts:{done:0,pending:0,in_progress:0},filters:{priority:null,status:null,project_id:null,has_project:null,due:null,from:null,to:null,search:null},loading:!0,softLoading:!1,loadingMore:!1,lastLoadMode:null,lastSelectedTaskPosition:null,activeRequests:new Map,debouncedActions:{}}),actions:{setTaskFields(e){Array.isArray(e)&&(this.taskFields=e.filter(e=>"string"==typeof e))},_initDebouncedFilter(){this.debouncedActions.setFilters||(this.debouncedActions.setFilters=function(e,t){let s;return function(...a){clearTimeout(s),s=setTimeout(()=>e(...a),t)}}(e=>{const t=this.activeRequests.get("loadTasks");t&&t.abort(),this.loadTasks(1,this.pagination.perPage,!0,{useSoftLoading:!0})},300))},initCacheCleanup(){this.cacheCleanupInterval||(this.cacheCleanupInterval=setInterval(()=>{this.cleanStaleCache()},6e4))},cleanStaleCache(){const e=Date.now();Object.keys(this.taskCache).forEach(t=>{e-this.taskCache[t].timestamp>this.cacheTTL&&delete this.taskCache[t]})},setSelectedTaskForModal(e){this.selectedTaskForModal=e||null},clearSelectedTaskForModal(){this.selectedTaskForModal=null},async loadTasks(e=1,t=this.pagination.perPage,s=!0,{useSoftLoading:a=!1}={}){this.lastLoadMode=100===t?"sort":"pagination";const i=a?"softLoading":!s&&e>1?"loadingMore":"loading",r=new AbortController,o="loadTasks",l=this.activeRequests.get(o);l&&l.abort(),this.activeRequests.set(o,r),this[i]=!0;try{const a=await(({page:e=1,perPage:t=20,status:s=null,priority:a=null,project_id:i=null,has_project:r=null,due:o=null,from:l=null,to:n=null,search:c=null,fields:d="id,title,status,created_at",include_project:u=!1,signal:p=null}={})=>{const h={page:e,perPage:t,status:s,priority:a,project_id:i,has_project:r,due:o,from:l,to:n,search:c};return d&&(h.fields=d),u&&(h.include_project=1),_("/api/tasks",h,{signal:p})})({page:e,perPage:t,...this.getApiFilters(),fields:this.taskFields.join(","),include_project:this.taskFields.includes("project"),signal:r.signal});if(r.signal.aborted)return;const i=a.data||[],o=a.meta||{};s?this.tasks=i:this.tasks.push(...i),this.pagination.page=o.page||e,this.pagination.perPage=o.perPage||t,this.pagination.lastPage=o.lastPage||1,this.pagination.total="number"==typeof o.total?o.total:this.tasks.length,this.pagination.hasMore=o.hasMore??!1,this.pagination.statusCounts=o.statusCounts??{done:0,pending:0,in_progress:0},this.allStatusCounts=o.allStatusCounts??this.allStatusCounts}catch(n){if("AbortError"===n.name)return;O("error","Failed to load tasks"),s&&(this.tasks=[])}finally{this[i]=!1,this.activeRequests.delete(o)}},async switchPaginationMode(e,t){const s="sort"===e?100:20;if(t){const e=this.tasks.findIndex(e=>e.id===t);-1!==e&&(this.lastSelectedTaskPosition=e)}this.pagination.page=1,await this.loadTasks(1,s,!0,{useSoftLoading:!0})},setFilters(e){this.filters={...this.filters,...e},this.pagination.page=1,this._initDebouncedFilter(),this.debouncedActions.setFilters(this.filters)},clearFilters(){Object.keys(this.filters).forEach(e=>this.filters[e]=null),this.loadTasks(1,this.pagination.perPage,!0)},getApiFilters(){const e={};return this.filters.status&&(e.status=this.filters.status),this.filters.priority&&(e.priority=this.filters.priority),this.filters.project_id&&(e.project_id=this.filters.project_id),null!==this.filters.has_project&&(e.has_project=this.filters.has_project?1:0),["today","overdue","upcoming","this_week"].includes(this.filters.due)&&(e.due=this.filters.due),this.filters.from&&(e.from=this.filters.from),this.filters.to&&(e.to=this.filters.to),this.filters.search&&(e.search=this.filters.search),e},async selectTask(e){if(!e||this.selectedTaskId===e)return;this.selectedTaskId=e;const t=this.taskCache[e];if(!(t&&Date.now()-t.timestamp<this.cacheTTL)){this.loadingSelectedTask=!0;try{const t=await(e=>_(`/api/tasks/${e}`))(e);if(!t.success)throw new Error(t.message||"Failed to fetch task");this.taskCache[e]={data:t.data,timestamp:Date.now()}}catch(s){this.selectedTaskId=null,O("error",s.message||"Failed to fetch task")}finally{this.loadingSelectedTask=!1}}this.selectedTask=this.taskCache[e]?.data||null},async createTask(e){const t=B(e);if(t.length)return O("error",t.join(" | "),3e3),null;try{const t=await(s=e,P("/api/tasks",s));if(!t.success)throw new Error(t.message||"Failed to create task");const a=t.data;if(this.tasks.push(a),this.taskCache[a.id]={data:a,timestamp:Date.now()},N(this.tasks,"pagination",this),a.project_id){const e=H().projectCache[a.project_id];e&&(e.taskIds||(e.taskIds=[]),e&&(Array.isArray(e.taskIds)||(e.taskIds=[]),e.taskIds.includes(a.id)||e.taskIds.push(a.id),delete e.tasks),delete e.tasks)}return O("success",t.message||"Task created successfully",3e3,!0),a}catch(a){return O("error",a.message||"Failed to create task"),null}var s},async editTask(e,t){if(!e)return null;const s=B(t);if(s.length)return O("error",s.join(" | "),3e3),null;try{const s=await(a=e,i=t,b(`/api/tasks/${a}`,i));if(!s.success)throw new Error(s.message||"Failed to update task");const r=s.data;return D(this,e,r),this.taskCache[e]={data:r,timestamp:Date.now()},O("success",s.message||"Task updated successfully",3e3,!0),r}catch(r){return O("error",r.message||"Failed to update task"),null}var a,i},async deleteTask(e){if(e&&!this.deletingTaskIds.has(e)){this.deletingTaskIds.add(e);try{const s=await(t=e,T(`/api/tasks/${t}`));if(!s.success)throw new Error(s.message||"Failed to delete task");this.tasks=this.tasks.filter(t=>t.id!==e),delete this.taskCache[e],this.selectedTaskId===e&&(this.selectedTaskId=this.tasks[0]?.id??null,this.selectedTask=this.taskCache[this.selectedTaskId]??null),O("success",s.message||"Task deleted")}catch(s){O("error",s.message||"Failed to delete task")}finally{this.deletingTaskIds.delete(e)}var t}},async updateTaskStatus(e,t="done"){if(e)try{const s=await((e,t)=>{if(!["pending","in_progress","done"].includes(t))throw new Error(`Invalid status: ${t}`);return b(`/api/tasks/${e}/status`,{status:t})})(e,t);if(!s.success)throw new Error(s.message||"Failed to update status");s.data&&(D(this,e,s.data),this.taskCache[e]={data:s.data,timestamp:Date.now()}),O("success",s.message||"Status updated",3e3)}catch(s){O("error",s.message||"Failed to update status")}},async reorderTasks(e){try{await(t=e.map((e,t)=>({id:e.id,position:t+1})),Array.isArray(t)&&t.length?P("/api/tasks/reorder",{order:t}):Promise.resolve()),O("success","Task order saved",3e3)}catch(s){O("error","Failed to save task order",3e3),await this.loadAllTasks()}var t}}});const{show:q}=x(),H=t("project",{state:()=>({projectCache:{},selectedProjectId:null,selectedProject:null,deletingProjectIds:new Set,selectedProjectForModal:null,loadingSelectedProject:!1,projects:[],allProjects:[],pagination:{page:1,perPage:20,lastPage:1,total:0,hasMore:!1,statusCounts:{done:0,pending:0,in_progress:0}},allStatusCounts:{done:0,pending:0,in_progress:0},filters:{status:null,from:null,to:null,search:null},loading:!0,softLoading:!1,loadingMore:!1}),getters:{getProjectWithTasks:e=>t=>{const s=e.projectCache[t];if(!s)return null;const a=R(),i=(s.taskIds||[]).map(e=>a.taskCache[e]?.data).filter(Boolean);return{...s,tasks:i}},selectedProjectWithTasks:e=>{if(!e.selectedProject)return null;const t=R(),s=(e.selectedProject.taskIds||[]).map(e=>t.taskCache[e]?.data).filter(Boolean);return{...e.selectedProject,tasks:s}}},actions:{setSelectedProjectForModal(e){this.selectedProjectForModal=e||null},clearSelectedProjectForModal(){this.selectedProjectForModal=null},async loadProjects(e=1,t=this.pagination.perPage,s=!0,{useSoftLoading:a=!1}={}){const i=a?"softLoading":!s&&e>1?"loadingMore":"loading";this[i]=!0;try{const a=await C({page:e,perPage:t,...this.getApiFilters()}),i=a.data||[],r=a.meta||{};s?this.projects=i:this.projects.push(...i),this.pagination.page=r.page||e,this.pagination.perPage=r.perPage||t,this.pagination.lastPage=r.lastPage||1,this.pagination.total="number"==typeof r.total?r.total:this.projects.length,this.pagination.hasMore=r.hasMore??!1,this.pagination.statusCounts=r.statusCounts??{done:0,pending:0,in_progress:0},this.allStatusCounts=r.allStatusCounts??this.allStatusCounts}catch(r){q("error","Failed to load projects"),s&&(this.projects=[])}finally{this[i]=!1}},async loadAllProjects(){try{const e=await C({page:1,perPage:100});this.allProjects=e.data||[]}catch(e){}},setFilters(e){this.filters={...this.filters,...e},this.pagination.page=1,this.loadProjects(1,this.pagination.perPage,!0)},clearFilters(){Object.keys(this.filters).forEach(e=>this.filters[e]=null),this.loadProjects(1,this.pagination.perPage,!0)},getApiFilters(){const e={};return this.filters.status&&(e.status=this.filters.status),this.filters.from&&(e.from=this.filters.from),this.filters.to&&(e.to=this.filters.to),this.filters.search&&(e.search=this.filters.search),e},async selectProject(e){if(e&&this.selectedProjectId!==e){if(this.selectedProjectId=e,!this.projectCache[e]){this.loadingSelectedProject=!0;try{const t=await(e=>_(`/api/projects/${e}`))(e);if(!t.success)throw new Error(t.message||"Failed to fetch project");const s=t.data;if(s.tasks&&Array.isArray(s.tasks)){const e=R();s.tasks.forEach(t=>{e.taskCache[t.id]={data:t,timestamp:Date.now()}}),s.taskIds=s.tasks.map(e=>e.id),delete s.tasks}this.projectCache[e]=s}catch(t){this.selectedProjectId=null,q("error",t.message||"Failed to fetch project")}finally{this.loadingSelectedProject=!1}}this.selectedProject=this.projectCache[e]||null}},async createProject(e){const t=L(e);if(t.length)return q("error",t.join(" | "),3e3),null;try{const t=await(s=e,P("/api/projects",s));if(!t.success)throw new Error(t.message||"Failed to create project");const a=t.data;return this.projects.push(a),this.projectCache[a.id]=a,M(this.projects,"pagination",this),q("success",t.message||"Project created successfully",3e3,!0),a}catch(a){return q("error",a.message||"Failed to create project"),null}var s},async editProject(e,t){if(!e)return null;const s=L(t);if(s.length)return q("error",s.join(" | "),3e3),null;try{const s=await(a=e,i=t,b(`/api/projects/${a}`,i));if(!s.success)throw new Error(s.message||"Failed to update project");const r=s.data;return A(this,e,r),this.projectCache[e]=r,q("success",s.message||"Project updated successfully",3e3,!0),r}catch(r){return q("error",r.message||"Failed to update project"),null}var a,i},async deleteProject(e){if(e&&!this.deletingProjectIds.has(e)){this.deletingProjectIds.add(e);try{const s=await(t=e,T(`/api/projects/${t}`));if(!s.success)throw new Error(s.message||"Failed to delete project");this.projects=this.projects.filter(t=>t.id!==e),delete this.projectCache[e],this.selectedProjectId===e&&(this.selectedProjectId=this.projects[0]?.id??null,this.selectedProject=this.projectCache[this.selectedProjectId]??null),q("success",s.message||"Project deleted")}catch(s){q("error",s.message||"Failed to delete project")}finally{this.deletingProjectIds.delete(e)}var t}},async updateProjectStatus(e,t="done"){if(e)try{const s=await((e,t)=>{if(!["pending","in_progress","done"].includes(t))throw new Error(`Invalid status: ${t}`);return b(`/api/projects/${e}/status`,{status:t})})(e,t);if(!s.success)throw new Error(s.message||"Failed to update status");s.data&&(A(this,e,s.data),this.projectCache[e]=s.data),q("success",s.message||"Status updated",3e3)}catch(s){q("error",s.message||"Failed to update status")}},async reorderProjects(e){try{await(t=e.map((e,t)=>({id:e.id,position:t+1})),Array.isArray(t)&&t.length?P("/api/projects/reorder",{order:t}):Promise.resolve()),q("success","Project order saved",3e3)}catch(s){q("error","Failed to save project order",3e3),await this.loadProjects()}var t},async searchProjects(e){try{if(!e)return void(this.allProjects=[]);const t=await(({query:e=""}={})=>_("/api/projects/search",{query:e}))({query:e});if(!t.success)throw new Error(t.message||"Failed to search projects");this.allProjects=t.data||[]}catch(t){this.allProjects=[]}}}}),V={},$=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),i=s?.nonce||s?.getAttribute("nonce");a=e(t.map(e=>{if((e=function(e){return"/build/"+e}(e))in V)return;V[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script"),a.crossOrigin="",a.href=e,i&&a.setAttribute("nonce",i),document.head.appendChild(a),t?new Promise((t,s)=>{a.addEventListener("load",t),a.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)})},z=t("layout",()=>{const e=a({tasks:{sections:{header:{visible:!0,open:!0,showHeaderBar:!1},filters:{visible:!1,open:!1,showHeaderBar:!1},tasklist:{visible:!0,open:!0,showHeaderBar:!1}},detailsSections:{details:{visible:!0},canvas:{visible:!1}}},projects:{sections:{header:{visible:!0,open:!0,showHeaderBar:!1},filters:{visible:!1,open:!1,showHeaderBar:!1},projectlist:{visible:!0,open:!0,showHeaderBar:!1}},detailsSections:{details:{visible:!0},canvas:{visible:!1}}}}),t=a("tasks");const r=i(()=>e.value[t.value].sections),o=i(()=>e.value[t.value].detailsSections);const l=localStorage.getItem("layouts");return l&&(e.value=JSON.parse(l)),s(e,e=>localStorage.setItem("layouts",JSON.stringify(e)),{deep:!0}),{layouts:e,active:t,sections:r,detailsSections:o,setActive:function(s){e.value[s]&&(t.value=s)},toggleSection:function(e){r.value[e]&&(r.value[e].open=!r.value[e].open)},toggleVisibility:function(e){r.value[e]&&(r.value[e].visible=!r.value[e].visible)},toggleHeaderBar:function(e){r.value[e]&&(r.value[e].showHeaderBar=!r.value[e].showHeaderBar)},toggleDetailsVisibility:function(e){o.value[e]&&(o.value[e].visible=!o.value[e].visible)}}}),W={id:"mainSection",class:"relative flex flex-col gap-1 min-h-screen sm:p-3 md:p-2 lg:flex-row lg:items-start lg:gap-6 py-2"},J={class:"lg:py-2 mx-2"},U={class:"flex flex-col lg:flex-row gap-4 lg:gap-6 w-full"},G={class:"shrink-0 w-full lg:w-md lg:min-w-md overflow-hidden"},K={key:0,class:"flex-1 w-full px-2"},Q={key:1,class:"flex-1 w-full px-2"},X={__name:"taskApp",setup(e){const t=p(()=>$(()=>import("./TaskList-CiuaAV7l.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),a=p(()=>$(()=>import("./TaskDetails-DzDwzCzE.js"),__vite__mapDeps([10,6,1,11,12,3,4]))),h=p(()=>$(()=>import("./TaskSettings-DHEPO9oM.js"),__vite__mapDeps([13,1,14,3,4,15]))),g=p(()=>$(()=>import("./DrawerCanvas-Cgr8HfTk.js"),__vite__mapDeps([16,1,17,2,3,4]))),f=z(),m=i(()=>f.layouts.tasks.detailsSections.details.visible),k=i(()=>f.layouts.tasks.detailsSections.canvas.visible);return s(m,()=>{}),r(()=>{f.setActive("tasks")}),(e,s)=>(o(),l("section",W,[s[0]||(s[0]=n("h1",{class:"sr-only"},"Task Management Dashboard",-1)),n("div",J,[c(d(h))]),n("div",U,[n("div",G,[c(d(t),{ref:"taskListRef"},null,512)]),m.value?(o(),l("div",K,[c(d(a))])):k.value?(o(),l("div",Q,[c(d(g),{type:"task"})])):u("",!0)])]))}},Y={id:"mainSection",class:"relative flex flex-col gap-1 h-screen sm:p-3 md:p-2 lg:flex-row lg:items-start lg:gap-6 py-2"},Z={class:"lg:py-2 mx-2"},ee={class:"shrink-0 w-full lg:w-md lg:min-w-md overflow-hidden"},te={key:0,class:"flex-1 w-full px-2"},se={key:1,class:"flex-1 w-full px-2"},ae={__name:"projectApp",setup(e){const t=p(()=>$(()=>import("./projectsList-Dm4wvmYL.js"),__vite__mapDeps([18,1,5,4,6,7,8,3,19]))),s=p(()=>$(()=>import("./ProjectDetails-DZ8IG_AH.js"),__vite__mapDeps([20,6,1,11,12,3,4]))),a=p(()=>$(()=>import("./ProjectSettings-DPaHUauw.js"),__vite__mapDeps([21,1,14,3,4,22]))),h=p(()=>$(()=>import("./DrawerCanvas-Cgr8HfTk.js"),__vite__mapDeps([16,1,17,2,3,4]))),g=z();r(()=>{g.setActive("projects")});const f=i(()=>g.layouts.projects.detailsSections.details.visible),m=i(()=>g.layouts.projects.detailsSections.canvas.visible);return(e,i)=>(o(),l("section",Y,[n("div",Z,[c(d(a))]),n("div",ee,[c(d(t),{ref:"projectListRef"},null,512)]),f.value?(o(),l("div",te,[c(d(s))])):m.value?(o(),l("div",se,[c(d(h),{type:"project"})])):u("",!0)]))}},ie={__name:"ModalApp",setup(e){const t=p(()=>$(()=>import("./Fab-DT_0n4OO.js"),__vite__mapDeps([23,1,24,3,4]))),s=p(()=>$(()=>import("./taskModal-fHjVMUEl.js"),__vite__mapDeps([25,1,24,26,27,3,4]))),a=p(()=>$(()=>import("./projectModal-DYjyH7Ix.js"),__vite__mapDeps([28,26,1,27,24,3,4])));return(e,i)=>(o(),l(h,null,[c(d(t)),c(d(s)),c(d(a))],64))}},re=(e,t)=>{const s=e.__vccOpts||e;for(const[a,i]of t)s[a]=i;return s},oe=["innerHTML"],le={class:"flex-1 text-gray-800 font-medium"},ne=re({__name:"FlashMessage",setup(e){const{flash:t}=x(),s=i(()=>({success:"border-l-green-500",error:"border-l-red-500",info:"border-l-blue-500"}[t.type]||"border-l-gray-500")),a=i(()=>({success:"text-green-500",error:"text-red-500",info:"text-blue-500"}[t.type]||"text-gray-500")),r=i(()=>({success:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n      <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />\n    </svg>\n  ',error:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n      <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z" />\n    </svg>\n  ',info:'\n    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n      <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" />\n    </svg>\n  '}[t.type]||""));function p(){t.visible=!1}return(e,i)=>(o(),g(v,{to:"body"},[c(j,{name:"fade","enter-active-class":"transition-all duration-300 ease-out","leave-active-class":"transition-all duration-300 ease-in","enter-from-class":"opacity-0 translate-y-[-10px]","enter-to-class":"opacity-100 translate-y-0","leave-from-class":"opacity-100 translate-y-0","leave-to-class":"opacity-0 translate-y-[-10px]"},{default:f(()=>[d(t).visible?(o(),l("div",{key:0,class:m([s.value,"fixed top-16 left-1/2 -translate-x-1/2","bg-gray-100 dark:bg-[#e1e0e0] border-l-4","px-4 py-3 rounded-lg shadow-lg","from-[#eeeeee] to-[#fffbfb] flex items-center gap-3","min-w-70 max-w-md"]),style:{top:"70px",left:"50%"}},[r.value?(o(),l("span",{key:0,class:m([a.value,"shrink-0"]),innerHTML:r.value},null,10,oe)):u("",!0),n("span",le,k(d(t).message),1),d(t).count>1?(o(),l("span",{key:1,class:m([a.value,"px-2 py-0.5 rounded-full text-xs font-bold bg-opacity-10 text-white","success"===d(t).type?"bg-green-500":"","error"===d(t).type?"bg-red-500":"","info"===d(t).type?"bg-blue-500":""])},k(d(t).count),3)):u("",!0),n("button",{onClick:p,class:"shrink-0 text-gray-400 hover:text-gray-600 transition-colors cursor-pointer","aria-label":"Close notification"},[...i[0]||(i[0]=[n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)):u("",!0)]),_:1})]))}},[["__scopeId","data-v-c201839a"]]),ce={__name:"FlashApp",setup:e=>(e,t)=>(o(),g(ne))},de=y();w({}).use(de);H().loadAllProjects();document.getElementById("taskApp")&&w(X).use(de).mount("#taskApp");document.getElementById("projectApp")&&w(ae).use(de).mount("#projectApp");document.getElementById("ModalApp")&&w(ie).use(de).mount("#ModalApp");document.getElementById("flashApp")&&w(ce).use(de).mount("#flashApp");export{re as _,z as a,H as b,x as c,R as u};

var s,e=Object.defineProperty;class t{constructor({name:s,trigger:e,panel:t,openClass:n=[],closeClass:i=[],onOpen:l=null,onClose:o=null}){this.name=s,this.trigger=e,this.panel=t,this.openClass=n,this.closeClass=i,this.onOpen=l,this.onClose=o,this.isOpen=!1,this.init()}init(){this.trigger.addEventListener("click",s=>{s.stopPropagation(),this.toggle()}),this.panel?.addEventListener("click",s=>s.stopPropagation())}open(){n.closeAllExcept(this),this.panel?.classList.remove(...this.closeClass),this.panel?.classList.add(...this.openClass),this.isOpen=!0,n.registerOpenMenu(this),this.onOpen?.()}close(){this.panel?.classList.add(...this.closeClass),this.panel?.classList.remove(...this.openClass),this.isOpen=!1,this.onClose?.()}toggle(){this.isOpen?this.close():this.open()}}class n{static registerOpenMenu(s){this.openMenus.add(s)}static closeAll(){[...this.openMenus].forEach(s=>s.close()),this.openMenus.clear()}static closeAllExcept(s){[...this.openMenus].forEach(e=>{e!==s&&e.close()}),this.openMenus=new Set([...this.openMenus].filter(e=>e===s))}}((s,t,n)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n})(n,"symbol"!=typeof(s="openMenus")?s+"":s,new Set),document.addEventListener("click",()=>n.closeAll()),document.addEventListener("keydown",s=>{"Escape"===s.key&&n.closeAll()});export{t as M};

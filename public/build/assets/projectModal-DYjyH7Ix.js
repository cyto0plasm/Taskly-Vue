import{I as e,_ as a,a as l,B as o}from"./select-D12jQZLY.js";import{u as t}from"./useModalStack-Dh50zh9q.js";import{b as r}from"./main-Bc4UwIiF.js";import{w as u,b as n,j as s,k as d,g as i,f as c,t as v,u as p,a as m}from"./vendor-vue-BkEISqGT.js";import"./apiHelpers-DHex_rN5.js";import"./vendor-utils-BdUT8LFy.js";const g={class:"flex gap-2 justify-end"},x={__name:"projectModal",setup(x){const j=r(),{activeModal:b,closeModal:f,openModal:w}=t(),y=m("create"),V=m(null),_=m("#6B3EEA"),h=m(""),H=m(""),P=m(),M=m(),C=m("pending"),S=[{value:"pending",text:"Pending"},{value:"in_progress",text:"In Progress"},{value:"done",text:"Done"}];async function D(){if("edit"===y.value&&!V.value?.id)return void show("error","No project selected for editing");const e={name:h.value,description:H.value||"",start_date:P.value||null,end_date:M.value,status:C.value};try{("create"===y.value?await j.createProject(e):await j.editProject(V.value.id,e))&&U()}catch(a){show("error",a)}}function U(){j.selectedProjectForModal=null,f()}return u(()=>j.selectedProjectForModal,e=>{e&&(y.value="edit",V.value=e,function(e){h.value=e.name||"",H.value=e.description||"",P.value=e.start_date?new Date(e.start_date).toISOString().split("T")[0]:"",M.value=e.end_date?new Date(e.end_date).toISOString().split("T")[0]:"",C.value=e.status||"pending"}(e),w("project"))}),u(()=>b.value,e=>{"project"===e&&(j.selectedProjectForModal||(y.value="create",V.value=null,h.value="",H.value="",P.value="",M.value="",C.value="pending"))}),(t,r)=>(n(),s(o,{show:"project"===p(b),title:"Create Project",description:"Organize your work",color:_.value,onClose:p(f)},{footer:d(()=>[c("div",g,[c("button",{class:"w-full sm:w-auto text-sm sm:text-base px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 active:bg-gray-300 font-medium transition-color cursor-pointer",onClick:U}," Cancel "),c("button",{class:"w-full sm:w-auto text-sm sm:text-base px-6 py-2.5 text-white rounded-lg font-medium shadow-sm disabled:opacity-50 disabled:cursor-not-allowed transition-color cursor-pointer bg-indigo-500 hover:bg-indigo-600",onClick:D},v("create"===y.value?"Create":"Update"),1)])]),default:d(()=>[i(e,{modelValue:h.value,"onUpdate:modelValue":r[0]||(r[0]=e=>h.value=e),label:"Project Name",name:"name",type:"text",placeholder:"Enter project name",required:"",colorHex:_.value},null,8,["modelValue","colorHex"]),i(a,{modelValue:H.value,"onUpdate:modelValue":r[1]||(r[1]=e=>H.value=e),label:"Description",name:"description",rows:3,placeholder:"Enter your description...",colorHex:_.value},null,8,["modelValue","colorHex"]),i(e,{modelValue:P.value,"onUpdate:modelValue":r[2]||(r[2]=e=>P.value=e),label:"Start Date",name:"start_date",type:"date",colorHex:_.value},null,8,["modelValue","colorHex"]),i(e,{modelValue:M.value,"onUpdate:modelValue":r[3]||(r[3]=e=>M.value=e),label:"DeadLine",name:"end_date",type:"date",colorHex:_.value},null,8,["modelValue","colorHex"]),i(l,{modelValue:C.value,"onUpdate:modelValue":r[4]||(r[4]=e=>C.value=e),label:"Status",name:"status",options:S,colorHex:_.value},null,8,["modelValue","colorHex"])]),_:1},8,["show","color","onClose"]))}};export{x as default};
